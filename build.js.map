{"version":3,"file":"build.js","sources":["node_modules/core-js/library/modules/_defined.js","node_modules/core-js/library/modules/_to-object.js","node_modules/core-js/library/modules/_has.js","node_modules/core-js/library/modules/_cof.js","node_modules/core-js/library/modules/_iobject.js","node_modules/core-js/library/modules/_to-iobject.js","node_modules/core-js/library/modules/_to-integer.js","node_modules/core-js/library/modules/_to-length.js","node_modules/core-js/library/modules/_to-index.js","node_modules/core-js/library/modules/_global.js","node_modules/core-js/library/modules/_shared.js","node_modules/core-js/library/modules/_uid.js","node_modules/core-js/library/modules/_shared-key.js","node_modules/core-js/library/modules/_object-keys-internal.js","node_modules/core-js/library/modules/_array-includes.js","node_modules/core-js/library/modules/_enum-bug-keys.js","node_modules/core-js/library/modules/_object-keys.js","node_modules/core-js/library/modules/_core.js","node_modules/core-js/library/modules/_a-function.js","node_modules/core-js/library/modules/_ctx.js","node_modules/core-js/library/modules/_is-object.js","node_modules/core-js/library/modules/_an-object.js","node_modules/core-js/library/modules/_fails.js","node_modules/core-js/library/modules/_descriptors.js","node_modules/core-js/library/modules/_dom-create.js","node_modules/core-js/library/modules/_ie8-dom-define.js","node_modules/core-js/library/modules/_to-primitive.js","node_modules/core-js/library/modules/_object-dp.js","node_modules/core-js/library/modules/_property-desc.js","node_modules/core-js/library/modules/_hide.js","node_modules/core-js/library/modules/_export.js","node_modules/core-js/library/modules/_object-sap.js","node_modules/core-js/library/modules/es6.object.keys.js","node_modules/core-js/library/fn/object/keys.js","node_modules/babel-runtime/core-js/object/keys.js","node_modules/babel-runtime/helpers/classCallCheck.js","node_modules/core-js/library/modules/es6.object.define-property.js","node_modules/core-js/library/fn/object/define-property.js","node_modules/babel-runtime/core-js/object/define-property.js","node_modules/babel-runtime/helpers/createClass.js","src/utils.js","src/config.js","src/main.js"],"sourcesContent":["// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};","// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};","var toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef","var global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};","var shared = require('./_shared')('keys')\n  , uid    = require('./_uid');\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};","var has          = require('./_has')\n  , toIObject    = require('./_to-iobject')\n  , arrayIndexOf = require('./_array-includes')(false)\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = require('./_object-keys-internal')\n  , enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};","var core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};","var isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});","var isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};","module.exports = !require('./_descriptors') && !require('./_fails')(function(){\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};","var anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};","var dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};","var global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export')\n  , core    = require('./_core')\n  , fails   = require('./_fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object')\n  , $keys    = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function(){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","// utility methods for EventSky\n\nexport default {\n\t/**\n\t * This provides a format for event map objects\n\t * @returns {{}}\n\t */\n\tcreateNewEventMap () {\n\t\treturn {\n\t\t\t// aggregate number of handlers for this event\n\t\t\thandlers: 0,\n\t\t\t_handlers: 0,\n\t\t\ton: {},\n\t\t\tonce: {},\n\t\t\tbeforeAll: {},\n\t\t\tafterAll: {},\n\t\t}\n\t},\n\n\t/**\n\t * Utility used to setup 'when' handlers on parent class\n\t * @param when {string} 'on', 'beforeAll', etc.\n\t * @return function\n\t */\n\tcurryWhenHandler (when) {\n\t\treturn (event, handler) => {\n\t\t\t// verify params\n\t\t\tif (typeof event !== 'string' || event.length < 1 || typeof handler !== 'function') {\n\t\t\t\tconsole.warn(`EventSky warning: \"${event}\" event must be a string and handler must be a function - not set with .${when} handler`)\n\n\t\t\t\treturn this\n\t\t\t}\n\n\t\t\t// first check if we're restricting to expected only\n\t\t\tif (this.config.restrictToExpected) {\n\t\t\t\tif (!Object.keys(this.events).includes(event)) {\n\t\t\t\t\tthis._firehose(`\"${event}\" handler cannot be set because it is not an expected event \"restrictToExpected = true\"`)\n\n\t\t\t\t\treturn this\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// ensure the event exists and is setup on the event store\n\t\t\tif (!this.events[event]) {\n\t\t\t\tthis.events[event] = this._utils.createNewEventMap()\n\t\t\t}\n\n\t\t\tthis.events[event].handlers++\n\t\t\tconst _handlerCount = this.events[event]._handlers++\n\t\t\tconst eventId = `id_${event}.${when}.${_handlerCount}`\n\t\t\tthis.events[event][when][eventId] = handler\n\n\t\t\treturn eventId\n\t\t}\n\t},\n}\n","export default {\n\t/**\n\t * This method sets the events that are expected to happen in the store.\n\t * If this method is invoked, it automatically assumes the intention to\n\t * restrict to only expected events that are set explicitly.\n\t * @param events [string|array]\n\t */\n\tsetExpectedEvents (events) {\n\t\t// check if there are existing events and config.restrictToExpected is false - show warning/log\n\t\t// because it means they first assigned events then set restrictToExpected\n\n\t\tthis.config.restrictToExpected = true\n\n\t\t// todo: set this.events = {}\n\n\t\treturn this\n\t}\n}","import utils from './utils'\nimport config from './config'\n\nclass EventSky {\n\tconstructor () {\n\t\tthis.config = {\n\t\t\trestrictToExpected: false,\n\t\t\tfirehose: false,\n\t\t}\n\n\t\tthis._config = config\n\t\tthis._utils = utils\n\n\t\t// map of events\n\t\tthis.events = {}\n\t\tthis._firehose = msg => this.config.firehose ? console.log(`EventSky Firehose >> ${msg}`) : null\n\n\t\t// setup 'when' event handlers\n\t\tthis.on = this._utils.curryWhenHandler.bind(this)('on')\n\t\tthis.once = this._utils.curryWhenHandler.bind(this)('once')\n\t\tthis.beforeAll = this._utils.curryWhenHandler.bind(this)('beforeAll')\n\t\tthis.afterAll = this._utils.curryWhenHandler.bind(this)('afterAll')\n\n\t\t// extend a chain call for eventSky.off.all()\n\t\tthis.off.all = this.allOff.bind(this)\n\t}\n\n\t/**\n\t * Remove a handler for an event, the first parameter can be and event name\n\t * or an eventId to be removed.\n\t * @param eventOrId\n\t * @param handler\n\t * @returns {EventSky}\n\t */\n\toff (eventOrId, handler) {\n\t\t// iterate all events by names\n\t\tObject.keys(this.events).forEach(_eventName => {\n\t\t\t// iterate each 'when' event lifecycle and look for eventId or handler to remove\n\t\t\tObject.keys(this.events[_eventName]).forEach(_eventWhen => {\n\t\t\t\tif (!['beforeAll', 'on', 'once', 'afterAll'].includes(_eventWhen)) return\n\n\t\t\t\t// iterate each event of the current 'when' for event\n\t\t\t\tObject.keys(this.events[_eventName][_eventWhen]).forEach(_eventId => {\n\t\t\t\t\tconst eventNameAndHandlerMatch = (\n\t\t\t\t\t\t\tthis.events[_eventName][_eventWhen][_eventId] === handler &&\n\t\t\t\t\t\t\t_eventName === eventOrId\n\t\t\t\t\t\t)\n\t\t\t\t\tconst eventIdMatch = (!handler && _eventId === eventOrId)\n\n\t\t\t\t\tconst performDelete = (\n\t\t\t\t\t\t\teventNameAndHandlerMatch ||\n\t\t\t\t\t\t\teventIdMatch\n\t\t\t\t\t\t)\n\n\t\t\t\t\tif (performDelete) {\n\t\t\t\t\t\tdelete this.events[_eventName][_eventWhen][_eventId]\n\t\t\t\t\t\tthis.events[_eventName].handlers--\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t})\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Turn off all handlers for an event name\n\t * @param eventName {string} the name of the event\n\t * @returns {EventSky}\n\t */\n\tallOff (eventName) {\n\t\tdelete this.events[eventName]\n\t\tthis._firehose(`.off.all(\"${eventName}\") removed all event handlers`)\n\n\t\tthis.events[eventName] = this._utils.createNewEventMap()\n\n\t\treturn this\n\t}\n\n\ttrigger (event, data) {\n\t\tif (this.config.restrictToExpected) {\n\t\t\tif (!Object.keys(this.events).includes(event)) {\n\t\t\t\tthis._firehose(`\"${event}\" triggered and is not an expected event \"restrictToExpected = true\"`)\n\n\t\t\t\treturn this\n\t\t\t}\n\t\t} else if (!this.events[event]) {\n\t\t\tthis._firehose(`\"${event}\" triggered with no handlers setup`)\n\n\t\t\treturn this\n\t\t}\n\n\t\tthis._firehose(`\"${event}\" triggered`)\n\n\t\t// beforeAll\n\t\tconst beforeAll = this.events[event].beforeAll\n\t\ttry {\n\t\t\tObject.keys(beforeAll).forEach(key => beforeAll[key](data))\n\t\t} catch (e) {\n\t\t\tconsole.error(`EventSky error: ${event} beforeAll handler errored`, { error: e, data: data })\n\t\t}\n\n\t\t// on\n\t\tconst on = this.events[event].on\n\t\ttry {\n\t\t\tObject.keys(on).forEach(key => on[key](data))\n\t\t} catch (e) {\n\t\t\tconsole.error(`EventSky error: ${event} on handler errored`, { error: e, data: data })\n\t\t}\n\n\t\t// once\n\t\tconst once = this.events[event].once\n\t\ttry {\n\t\t\tObject.keys(once).forEach(key => {\n\t\t\t\tonce[key](data)\n\t\t\t\t// remove handler\n\t\t\t\tthis.off(event, once[key](data))\n\t\t\t})\n\t\t} catch (e) {\n\t\t\tconsole.error(`EventSky error: ${event} once handler errored`, { error: e, data: data })\n\t\t}\n\n\t\t// afterAll\n\t\tconst afterAll = this.events[event].afterAll\n\t\ttry {\n\t\t\tObject.keys(afterAll).forEach(key => afterAll[key](data))\n\t\t} catch (e) {\n\t\t\tconsole.error(`EventSky error: ${event} afterAll handler errored`, { error: e, data: data })\n\t\t}\n\n\t\treturn this\n\t}\n}\n\nexport default new EventSky()\n"],"names":["it","undefined","TypeError","Object","defined","hasOwnProperty","key","call","toString","slice","propertyIsEnumerable","cof","split","IObject","ceil","Math","floor","isNaN","min","toInteger","max","index","length","global","module","window","self","Function","__g","store","id","px","random","concat","shared","arrayIndexOf","IS_INCLUDES","$this","el","fromIndex","value","O","toIObject","toLength","toIndex","IE_PROTO","uid","object","names","i","result","has","push","keys","$keys","enumBugKeys","core","version","__e","fn","that","aFunction","a","b","c","apply","arguments","isObject","exec","e","require$$0","defineProperty","get","document","is","createElement","require$$1","require$$2","S","val","valueOf","dP","P","Attributes","anObject","toPrimitive","IE8_DOM_DEFINE","bitmap","enumerable","configurable","writable","f","createDesc","$export","type","name","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","IS_WRAP","W","exports","expProto","target","ctx","C","this","virtual","R","hide","U","KEY","exp","fails","toObject","default","__esModule","instance","Constructor","$Object","desc","_defineProperty2","obj","_defineProperty","defineProperties","props","descriptor","protoProps","staticProps","prototype","when","event","handler","warn","_this","config","restrictToExpected","_Object$keys","events","includes","_firehose","_utils","createNewEventMap","handlers","_handlerCount","_handlers","eventId","_config","utils","firehose","console","log","msg","on","curryWhenHandler","bind","once","beforeAll","afterAll","off","all","allOff","eventOrId","forEach","_this2","_eventName","_eventWhen","eventNameAndHandlerMatch","_eventId","eventIdMatch","eventName","data","error"],"mappings":"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"}